[◀︎ Airlift](../../README.md) • [◀︎ API Builder](../README.md)

# API Builder: URIs

> Google Guide Link: https://cloud.google.com/apis/design/resource_names

API URI paths are automatically generated by API Builder. You no longer need to be concerned with how to name API
endpoints. The paths are built by references to the resources specified in the service methods. The general form is:

```text
<service-type-id>/api/v<service-version-number>/<resource-spec>[:<custom-method>]
```

## Service Metadata

You must define a `ApiServiceType` class. API Builder uses instances of this class to obtain
_service-type-id_ and _service-version-number_ as part of the `@ApiService` annotation
on the service class. Your `ApiServiceType` must have a public no-arg constructor.

## Resource Spec

The resource-spec is derived from the service method's parameters and result. Each resource and ID parameter
will generate additional resource-spec path components. ID parameters add `resource-name/{resource-id}` to the
path. Resource parameters or return types add `resource-name` to the path. 

## Custom Method

Methods that use `ApiCustom` add an HTTP matrix verb to the path.

## Examples:

```java
@ApiService(name = "cluster", type = ServiceType.MY_SERVICE_V1.class)
public class ClusterService
{
    @ApiGet(...)     // URI path is: public/api/v1/cluster/{cluserId}
    public Cluster getCluster(@ApiParameter ClusterId clusterId) {...}

    @ApiList(...)    // URI path is: public/api/v1/cluster
    public List<Cluster> getClusters() {...}

    @ApiCustom(verb = "transmogrify")   // URI path is: public/api/v1/cluster:transmogrify
    public Cluster transmogrifyClusters() {...}

    @ApiGet(...)     // URI path is: public/api/v1/cluster/{cluserId}/catalog/{catalogId}
    public Catalog getCatalog(@ApiParameter ClusterId clusterId, @ApiParameter CatalogId catalogId) {...}
}
```

